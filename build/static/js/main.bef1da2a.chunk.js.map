{"version":3,"sources":["components/StateInput.js","components/PersonForm.js","components/PersonList.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["StateInput","inputState","prompt","value","state","onChange","handleChange","PersonForm","handleAddPerson","newNameState","newPhoneState","onSubmit","type","Person","person","handleDelete","name","number","onClick","window","confirm","id","PersonList","persons","nameFilter","personList","filter","toLowerCase","includes","map","key","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","style","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNameFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","console","log","PersonService","showError","setTimeout","showSuccess","event","target","phone","color","preventDefault","newPerson","oldPerson","find","catch","error","JSON","stringify","concat","deletedPerson","statusText","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bef1da2a.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst StateInput = ({ inputState, prompt }) => (\n  <div>\n    {prompt}: <input value={inputState.state} onChange={inputState.handleChange} />\n  </div>\n)\n\nexport default StateInput","import React from 'react'\nimport StateInput from './StateInput'\n\n\nconst PersonForm = ({ handleAddPerson, newNameState, newPhoneState }) => {\n  \n  return (\n    <form onSubmit={handleAddPerson}>\n      <StateInput prompt={'name'} inputState={newNameState} />\n      <StateInput prompt={'number'} inputState={newPhoneState} />\n      <button type=\"submit\">add</button>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst PersonList = ( { persons, nameFilter, handleDelete } ) => {\n  const personList = persons.filter(person => person.name.toLowerCase().includes(nameFilter)).map( \n    person => <Person key={person.id} person={person} handleDelete={handleDelete}/> \n  )\n\n  return (\n    <div>\n      {personList}\n    </div>\n  )\n}\n\nconst Person = ( { person, handleDelete } ) => {\n  const deletePerson = () => {\n    if (window.confirm(`Delete ${person.name}?`)){\n      handleDelete(person.id)\n    }\n  } \n  return (\n    <div>\n      {person.name} {person.number} <button onClick={deletePerson}>Delete</button> \n    </div>\n  )\n}\nexport default PersonList","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteId = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n}\n\nexport default { \n  getAll, \n  create, \n  update,\n  delete: deleteId\n}","import React from 'react'\n\nconst Notification = ({ style, message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"notification\" style={style}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport StateInput from './components/StateInput'\nimport PersonList from './components/PersonList'\nimport PersonService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ nameFilter, setNameFilter ] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n\n\n  useEffect(() => {\n    console.log('Getting persons')\n    PersonService\n      .getAll()\n      .then(response => {\n        console.log('Got persons')\n        setPersons(response)\n      })\n  }, [])\n\n  const showError = (message) => {\n    setErrorMessage(message)\n    setTimeout(() => setErrorMessage(null), 5000)\n  }\n\n  const showSuccess = (message) => {\n    setSuccessMessage(message)\n    setTimeout(() => setSuccessMessage(null), 5000)\n  }\n\n  const handleAddPerson = (event) => {\n    event.preventDefault()\n    const newPerson = { name: newName, number: newNumber }\n\n    if(persons.map(person => person.name).includes(newName)){\n      if(window.confirm(`${newName} is already listed in the phonebook,\\nDo you want to replace the number?`)){\n        const oldPerson = persons.find((person) => person.name === newPerson.name)\n        PersonService.update(oldPerson.id, {...newPerson, id: oldPerson.id}).then((response) => {\n          setPersons(persons.map( person => person.id !== oldPerson.id ? person : response))\n          showSuccess(`Updated ${response.name}`)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => showError(JSON.stringify(error.response.data))) \n      }\n    } else {\n      PersonService.create(newPerson)    \n        .then(response => {      \n          setPersons(persons.concat(response))      \n          setNewName('')\n          setNewNumber('')\n          showSuccess(`Added ${response.name}`)\n      })\n      .catch((error) => {\n        console.log(error.response.data)\n        showError(JSON.stringify(error.response.data))\n      })\n      \n    }\n  }\n\n  const handleDelete = (id) => {\n    const deletedPerson = persons.find(person => person.id === id)\n    PersonService.delete(id)\n      .then(response => {\n        console.log(`Deleted ${id}\\n`, response.statusText)\n        setPersons(persons.filter(person => person.id !== id))\n        showSuccess(`Deleted ${deletedPerson.name}`)\n      })\n      .catch(error => {\n        setPersons(persons.filter(person => person.id !== id))\n        showError(`${deletedPerson.name} has already been deleted from the database!`)\n      })\n  }\n\n\n  const handleFilterChange = (event) => {\n    const filter = event.target.value\n    setNameFilter(filter.toLowerCase())\n  }\n\n  const handleNameChange = (event) => {\n    const name = event.target.value\n    setNewName(name)\n  }\n\n  const handlePhoneChange = (event) => {\n    const phone = event.target.value\n    setNewNumber(phone)\n  }\n\n  const newNameState = {state: newName, handleChange: handleNameChange}\n  const newPhoneState = {state: newNumber, handleChange: handlePhoneChange}\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} style={{color: 'red'}} />\n      <Notification message={successMessage} style={{color: 'green'}} />\n      <StateInput prompt={'Filter by'} inputState={{state: nameFilter, handleChange: handleFilterChange}} />\n      <h3>New contact</h3>\n      <PersonForm handleAddPerson={handleAddPerson} newNameState={newNameState} newPhoneState={newPhoneState}  />\n      <h3>Contacts</h3>\n      <PersonList persons={persons} nameFilter={nameFilter} handleDelete={handleDelete}/>\n    </div>\n  )\n\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}